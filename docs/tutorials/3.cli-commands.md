# CLI Commands Reference

## Essential Commands

**Main Workflow:**
- `stackbench setup` - Set up repository for IDE execution (clone + extract)
- `stackbench print-prompt` - Get use case prompts for manual execution
- `stackbench analyze` - Analyze implementations and generate reports

**Management:**
- `stackbench list` - List all benchmark runs
- `stackbench status` - Check run status and progress
- `stackbench clean` - Clean up old runs


## Main Commands

### `stackbench setup`

Set up repository for IDE execution (clone + extract use cases).

```bash
stackbench setup <repository-url> -a cursor -i docs,examples
```

**Common options:**
- `-i docs,examples` - Focus on specific folders
- `-b develop` - Use specific branch
- `--num-use-cases 10` - Generate more use cases

**Returns:** Run ID for use with other commands


### `stackbench print-prompt`

Get formatted prompt for manual IDE execution.

```bash
# Get use case 1 prompt and copy to clipboard
stackbench print-prompt <run-id> -u 1 --copy

# Just print without copying
stackbench print-prompt <run-id> -u 1
```

### `stackbench analyze`

Analyze implementations and generate reports.

```bash
# Analyze all use cases
stackbench analyze <run-id>

# Analyze specific use case
stackbench analyze <run-id> --use-case 2

# Force re-analysis
stackbench analyze <run-id> --force
```

**Prerequisites:**
- Claude Code CLI: `npm install -g @anthropic-ai/claude-code`
- Set `ANTHROPIC_API_KEY` in environment
- Use case solution files must exist

## Management Commands

### `stackbench list`

List all benchmark runs.

```bash
# List all runs
stackbench list

# Filter by phase or agent
stackbench list --phase completed
stackbench list --agent cursor
```

### `stackbench status`

Check run status and progress.

```bash
stackbench status <run-id>
```

Shows current phase, use case execution status, and next steps.

### `stackbench clean`

Clean up old benchmark runs.

```bash
# Remove runs older than 30 days (default)
stackbench clean

# Remove runs older than 7 days
stackbench clean --older-than 7

# Preview what would be deleted
stackbench clean --dry-run
```

## Configuration

**Required environment variables:**
```bash
OPENAI_API_KEY=your_openai_key_here     # For use case extraction
ANTHROPIC_API_KEY=your_anthropic_key    # For analysis
```

**Common settings (optional):**
```bash
NUM_USE_CASES=10                        # Default: 5
ANALYSIS_MAX_WORKERS=5                  # Default: 3
DSPY_MODEL=gpt-4o                       # Default: gpt-4o-mini
```


## Quick Start Workflow

```bash
# 1. Set up repository
stackbench setup https://github.com/user/awesome-lib -i docs

# 2. Execute use cases in Cursor IDE
stackbench print-prompt <run-id> -u 1 --copy
# Paste in Cursor, let it implement, repeat for all use cases

# 3. Analyze results
stackbench analyze <run-id>

# 4. View results
cat ./data/<run-id>/results.md
```


## Next Steps

- **[Getting Started](0.getting-started.md)** - Complete tutorial walkthrough
- **[Cursor Workflow](1.cursor-workflow.md)** - IDE agent execution guide
- **[How StackBench Works](2.how-stackbench-works.md)** - Understanding the internals